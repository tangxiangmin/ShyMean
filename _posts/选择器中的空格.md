---
title: 选择器中的空格
date: 2016-06-05 22:20:46
tags:
	- 选择器
categories:
	- CSS
---
jQuery的选择器跟CSS十分相似，在学习的时候发现之前忽略的一个关于CSS选择器问题：选择器中的空格。尽管在写CSS样式的时候并没有在这个问题上犯错，但是之前学习选择器都是抱着“概念我看看就行了，记那些干什么”的“不求甚解”的态度，然后在使用jQuery的时候就进了不少坑。现在就来说一说选择器中的空格。
<!--more-->
## 区分
首先，不带空格与带空格所组成的选择器是完全不同的。拿p.red{color:red;}和 p .red{color:red;}来讲：
* 前者在样式表中没有空格，表示带有.red类的p元素字体颜色为红色，用逻辑运算符来说就是“&”的关系。再比如.red1.red2{color:red;}，只有class=”red1 red2”同时带有这两个类的元素其字体才为红色（red1 red2顺序可以交换），这种不带空格的选择器是多类选择器。
* 后者在样式表中有空格，表示的是p元素的所有后代中带有red类的元素其字体显示为红色。选择器之间的空格是一种结合符，可以解释为“...在下面的...”、“...作为...的后代”，这种带有空格的选择器是后代选择器。

好了，这原本就只是两个概念，并没有什么好说的，需要注意的重点大概是选择器权重值的计算（权重值点这里）。但是！当在jQuery中碰见过滤选择器的时候，我发现我真是天真啊。
## 过滤选择器
jQuery中除了最原始的基础选择器与层次选择器之外，最为强大的便是过滤选择器。具体又细分为索引号过滤、内容过滤、可见性过滤、属性过滤、后代过滤、表单过滤等情形。在过滤选择器中，使用空格与不使用空格，获得的结果是迥然不同的。对于过滤选择器加上了空格的来说，它所获取的是其子元素的过滤；而对于过滤选择器没有加上空格的来说，它所获取的是其自身元素的过滤。
在上述的过滤选择器中还有一个蛋疼的子元素过滤选择器，比如下面的例子：
```
	.r {
    	color: red;
    }

    <ul>
        <li><span>111</span> <span>xxx</span></li>
        <li><span>333</span> <span>kkk</span></li>
    </ul>
```
$("li :nth-child(1)").addClass("r")(有空格)表示每个li下的第一个span元素字体变红了，没错；
$("li:nth-child(1)").addClass("r")（无空格）表示li为其父元素下的第一个子元素的那个li字体为红色。（这里在增加一个ul会更加明显）；
但是！我在测试这里的时候遇见了一个问题，当使用$("ul :nth-child(1)").addClass("r")（有空格），按照理解应当是ul下的第一个li元素内字体变红，但是第二个li下的第一个span其字体颜色也会变红。我正在找原因（原因已经找到：空格表示的是所有的后代元素，这里的选择器表示ul下所有为其父元素的第一个子元素都会增加.r类，符号该条件的元素有ul下的第一个li子元素，li下的第一个span元素，因此弄明白__空格表示全部的子元素是十分重要的__，如果需要达到前面的要求，应当使用第一代子元素操作符">"）。
子元素过滤选择器的目的应当是操作目标元素下的子元素（即使用空格的版本）。此外注意表单过滤选择器之间是必须要加空格的。

## 最后
这种加空格并不是可有可无而是生死攸关的，至于为什么现在才发现这个问题，反思了一下，我特么好像就没有使用过多类选择器啊！！！习惯性的元素之间换空格，导致学习jQuery进到坑里面去了。这个加空格的方式让我想起了python中强制缩进的规定，天知道我怎么把他们扯上关系的。不过加空格与不加空格没有多大区别这个先入为主的观念大概是学习运算符的时候为了规范代码格式而造成的。这件事最大的收获不是知道了有空格与没有空格的区别，而是提醒了学习中的东西不能”想当然“的去看待！