### 2017-2-12

今天想起来，文章的目录还没有写。由于打算将目录也按照`Hexo`的排版放在右侧侧边栏，考虑到标题的长度和缩进，决定只生成三级标题。整个逻辑流程是：
在进入文章详情时发送请求获取数据，通过正则提取标题并存放在数组中，然后将这个数据传送到侧边栏组件，然后渲染出数据。

遇见的困难是侧边栏组件跟文章内容组件的数据传递的问题，查资料获取到的一种方式是`VueX`，这个我并没有了解过。我采用的方式还是使用`articleDetail`通过事件传递给`blog`实例，然后`blog`再通过事先绑定的`props`传递给侧边栏。这样做只能算是勉强实现了功能，待我日后回来填坑。

第二个问题是需要将目录与侧边栏原本的站点信息合并成一个`tab`组件，由于`tab`组件的切换面板内容是动态的，并不能写死在组件当中，但是为了能够编译模板，也不能定义成固定的`HTML`字符串。这个问题困惑了好一段时间。突然一想，这不就是`slot`去实现的功能吗？之前也没有使用过`slot`，通过传入的数组遍历传入`slot`的`name`，就可以实现这个`tab`组件了。

第三个问题是在`vue-router`中锚点的使用问题，本来打算在目录中使用锚点来实现目录跳转，发现路由把锚点解析到了其他地方，最后使用事件绑定的方法来完成这个功能。
```
goAnchor(val){
    val = val.replace(/\d\./g,'');
    val = '#' + val.trim();
    var anchor = document.querySelector(val);
    document.body.scrollTop = anchor.offsetTop
}
```


哈，这下子基本上基础的功能都做完...

