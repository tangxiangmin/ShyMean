!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){e.exports=window.jQuery},function(e,t,n){"use strict";n(11);var i=n(2);Promise.all([i.import("jquery"),i.import("swig"),i.import("av"),i.import("Valine")]).then(function(e){var t;t=e,Array.isArray(t)||Array.from(t);n(3).init()})},function(e,t){e.exports=window.System},function(e,t,n){"use strict";var i=n(0),o=n(4),r=n(8),a=n(9),s=n(10),u={init:function(){this.setRouter(),this.responsiveNav(),this.backTop(),this.toggleAside(),this.catalogue(),a.init()},responsiveNav:function(){var e=i(".page_hd"),t=e.find(".btn-list"),n=e.find(".nav-responsive");t.on("click",function(){n.toggleClass("active")})},toggleAside:function(){var e=i("#J_toggleSide"),t=i(".page_sd"),n=i("#blog");e.on("click",function(){t.toggleClass("active"),n.toggleClass("active"),e.toggleClass("close")}),e.on("mouseover",function(){e.addClass("hover")}).on("mouseout",function(){e.removeClass("hover")})},backTop:function(){var e=i(".btn-top");i(document).on("scroll",s.debounce(function(){i(this).scrollTop()>200?e.addClass("active"):e.removeClass("active")},50)),e.on("click",function(){i("html, body").animate({scrollTop:0},self.speed)})},catalogue:function(){var e=i(".article_ct h2"),t=i(".catalogue_item.lv1");function n(){if(n=location.href,/article\/.*?/.test(n)){var n,i=void 0,o=e.length;for(i=0;i<o;++i){if(e[i].getBoundingClientRect().top>0)break}--i>=o?i=o-1:i<0&&(i=0),t.removeClass("on").eq(i).addClass("on")}}n();var o=s.debounce(function(){n()},50);i(document).on("scroll",o)},setRouter:function(){var e=this,t=i("#page_wrap"),n=new o({"/":"/view/index.swig","/\\d+":"/view/index.swig","/article/.*?":{path:"/view/article.swig",success:function(){console.log("article 加载成功"),a.init()}},"/archive":"/view/archive.swig","/archive/.*?":"/view/archive.swig","/tags":"/view/tags.swig","/book":"/view/book.swig","/friend":"/view/friend.swig","/about":"/view/about.swig","/version":"/view/version.swig","/demo":"/view/demo.swig","/message":{path:"/view/message.swig",success:function(){a.init()}}},t,r.Loading);n.run(),n.listen(function(t){e.catalogue()}),this.router=n}};e.exports=u},function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var o=n(5),r=n(0),a=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tpls=t,this.cache={},this.$main=n,this.transition=i,this.cbs=[],this.currentUrl=""}return i(e,[{key:"install",value:function(e){}},{key:"replaceUrl",value:function(e){history.pushState({url:e},null,e)}},{key:"getTpl",value:function(e){var t=this.tpls,n=t[e];if(!n)for(var i in t){if(t.hasOwnProperty(i))if(new RegExp("^"+i+"$").test(e)){n=t[i];break}}return n}},{key:"setTitle",value:function(e){r("title").text(e)}},{key:"render",value:function(e){var t=this.$main;this.transition.in(t),t.html(e)}},{key:"resetScrollTop",value:function(){window.scrollTo(0,0)}},{key:"loadPage",value:function(e){var t=this,n=this.getTpl(e);if(!n)return!0;if(this.currentUrl===e)return!1;this.currentUrl=e;var i=this.$main,a=this.cache;this.transition.out(i),this.replaceUrl(e);var s=[r.get(""+e,{async:!0})],u=function(){};return n.success&&(u=n.success,n=n.path),a[e]||s.push(r.get(n).then(function(t){a[e]=t})),Promise.all(s).then(function(n){var i=n[0],r=a[e],s=o.render(r,{locals:i});t.render(s),t.resetScrollTop(),u()}),!1}},{key:"run",value:function(){var e=this;r(document).on("click","a",function(){var t=r(this).attr("href");return e.change(t)}),window.onpopstate=function(t){var n=t.state.url;e.change(n)}}},{key:"change",value:function(e){var t=this;return this.cbs.forEach(function(e){e(t)}),this.setTitle("橙红年代"),this.loadPage(e)}},{key:"listen",value:function(e){"function"==typeof e&&this.cbs.push(e)}}]),e}();e.exports=a},function(e,t,n){"use strict";var i=n(6),o=n(7);for(var r in o)i.setFilter(r,o[r]);e.exports=i},function(e,t){e.exports=window.swig},function(e,t){let n={tagSize(e){let t="";return t=e<=2?"text-xs":e>2&&e<=5?"text-sm":e>5&&e<=8?"text-md":"text-lg"},joinKey:(e,t,n=",")=>e.map(e=>e[t]).join(n),currentYear:e=>(new Date).getFullYear()};e.exports=n},function(e,t,n){"use strict";var i=n(0),o={Horizontal:{in:function(e){e.removeClass("fadeOutRight").addClass("fadeInLeft").one("animationend",function(){i(this).removeClass("fadeInLeft")})},out:function(e){e.addClass("fadeOutRight")}},Loading:{in:function(e){i(".page_loading").hide(),e.removeClass("fadeOut").addClass("fadeIn").one("animationend",function(){i(this).removeClass("fadeIn")})},out:function(e){i(".page_loading").show(),e.addClass("fadeOut")}}};e.exports=o},function(e,t,n){"use strict";e.exports={init:function(){new Valine.default({el:"#vcomments",appId:"J9BV8j1TlKO7MHkO6r1awhCA-gzGzoHsz",appKey:"m06FfscybDkLncEygOdxU2gb",placeholder:"说点什么吧...",avatar:"",path:window.location.pathname})}}},function(e,t,n){"use strict";var i={debounce:function(e,t){var n=void 0;return function(){var i=this,o=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(i,o)},t)}}};e.exports=i},function(e,t){}]);